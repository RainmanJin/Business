<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script src="jquery-1.10.2.js" type="text/javascript"></script>
</head>
<body>
	<button id="button1">测试getDirectories</button>
	<button id="button2">测试saveDirectories</button>
	<button id="button7">测试deleteItems</button>
	<button id="button3">测试getFileList</button>
	<button id="button4">测试注册</button>
	<button id="button5">测试登录</button>
	<button id="button6">测试根据用户id获得用户信息</button>
	
	<script type="text/javascript">
		$("#button1").click(function() {
			alert("点击测试getDirectories");
			$.ajax({
						type : "POST",
						url : "http://172.16.252.80:8088/sofa/flex-workspace/workspace.ctrl?method=getDirectories",
						data : "userid=admin&modelname=2",
						dataType : 'json',
						success : function(msg) {
							alert("get: " + msg);
						},
						error : function(msg) {
							alert("error " + msg);
						}
					});
		});
		
		$("#button2").click(function() {
			alert("点击测试saveDirectories");
			$.ajax({
						type : "POST",
						url : "http://172.16.252.80:8088/sofa/flex-workspace/workspace.ctrl?method=saveDirectories",
						data:'userid=admin&modelname=tabData&data=[{"id":"1","pId":null,"name":"财政大数据分析","open":true,"isEmpty":false},{"id":"11","pId":"1","name":"京津冀地区分析","open":false,"isEmpty":false},{"id":"12","pId":"1","name":"全国省市分析","open":false,"isEmpty":true},{"id":"13","pId":"1","name":"上海市分析","open":false,"isEmpty":true},{"id":"2","pId":null,"name":"工商大数据分析","open":true,"isEmpty":false},{"id":"21","pId":"2","name":"北京注吊销企业流动模型","open":false,"isEmpty":true},{"id":"22","pId":"2","name":"企业负债资本分析","open":false,"isEmpty":true},{"id":"23","pId":"2","name":"企业数量历年变化调查","open":false,"isEmpty":true},{"id":"3","pId":null,"name":"税收分析","open":true,"isEmpty":false},{"id":"31","pId":"3","name":"14年新增税种分析","open":false,"isEmpty":true},{"id":"32","pId":"3","name":"普通增值税分析","open":false,"isEmpty":true},{"id":"33","pId":"3","name":"国标企业税收分析","open":false,"isEmpty":true},{"id":"test","pId":"3","name":"test","open":false,"isEmpty":true},{"id":"test2","pId":"3","name":"test2","open":false,"isEmpty":true}]',
						dataType : 'Boolean',
						success : function(msg) {
							alert("Data Saved: " + msg);
						},
						error : function(msg) {
							alert("error " + msg);
						}
					});
		});
		
		$("#button7").click(function() {
			alert("测试deleteItems");
			$.ajax({
						type : "POST",
						url : "http://172.16.252.80:8088/sofa/flex-workspace/workspace.ctrl?method=deleteItems",
						data:'userid=admin&modelname=tabData&data=[{"id":"L2014110600000000205","type":"f"},{"id":"L2014110600000000207","type":"f"},{"id":"test","type":"d"},{"id":"test2","type":"d"}]',
						dataType : 'Boolean',
						success : function(msg) {
							alert("Data Saved: " + msg);
						},
						error : function(msg) {
							alert("error " + msg);
						}
					});
		});
		
		$("#button3").click(function() {
			alert("点击测试getFileList");
			$.ajax({
						type : "POST",
						url : "http://172.16.252.80:8088/sofa/flex-workspace/workspace.ctrl?method=getFileList",
						data : "userid=admin&directoryid=design",
						dataType : 'json',
						success : function(msg) {
							alert("getFileList: " + msg);
						},
						error : function(msg) {
							alert("error " + msg);
						}
					});
		});
		$("#button4").click(function() {
			alert("点击测试注册");
			$.ajax({
						type : "POST",
						url : "http://172.16.252.80:8088/sofa/flex-workspace/loggin.ctrl?method=signIn",
						data : "json=[asdfasdf:'sd']",
						dataType : 'json',
						success : function(msg) {
							alert("getFileList: " + msg);
						},
						error : function(msg) {
							alert("error " + msg);
						}
					});
		});
		$("#button5").click(function() {
			alert("点击测试登录");
			$.ajax({
						type : "POST",
						url : "http://172.16.252.80:8088/sofa/flex-workspace/loggin.ctrl?method=logIn",
						data : "json=[asdfasdf:'sd']",
						dataType : 'json',
						success : function(msg) {
							alert("getFileList: " + msg);
						},
						error : function(msg) {
							alert("error " + msg);
						}
					});
		});
		$("#button6").click(function() {
			alert("测试根据用户id获得用户信息");
			$.ajax({
						type : "POST",
						url : "http://172.16.252.80:8088/sofa/flex-workspace/loggin.ctrl?method=getUserByID",
						data : "id=admin",
						dataType : 'json',
						success : function(msg) {
							alert("getFileList: " + msg);
						},
						error : function(msg) {
							alert("error " + msg);
						}
					});
		});
	</script>
</body>
</html>